let peliculas=[
    {
        nombre:"Amenaza",
        duracion:120,
        genero: "Drama",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/amenaza.jpg?alt=media&token=71106226-0f85-4b9f-88b8-6abfb018c883",
        Sinopsis: "Imagina que rumbo al trabajo recibes un llamado telefónico con una voz que indica: Hay una bomba debajo de tu asiento. Sung-gyu (JO Woo Jin), gerente de un banco, está yendo a trabajar acompañado de sus dos hijos cuando recibe una llamada de un número privado. La persona que hace la llamada asegura a Sung-gyu que está sentado sobre una bomba y le advierte que, cuando se pare, la bomba va a estallar... En su desesperación, Sung gyu se verá en una encrucijada, puesto que no puede colgar la misteriosa llamada y deberá proteger la vida de sus hijos.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/amenaza.jpg?alt=media&token=71106226-0f85-4b9f-88b8-6abfb018c883"

    },
    {
        nombre:"Apocalipsis",
        duracion:90,
        genero: "Terror",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/apocalipsis.png?alt=media&token=de44694a-cc89-4ee8-9155-717b04884d85",
        Sinopsis: "Una apasionante historia se desata cuando descubre que, en un oscuro y alejado centro para enfermos mentales, vive un hermano suyo del que no tenía noticia, un personaje luminoso que le cambiará la vida para siempre.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/apocalipsis.png?alt=media&token=de44694a-cc89-4ee8-9155-717b04884d85"
    },
    {
        nombre:"Jauria",
        duracion:85,
        genero: "Drama",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/jauria.png?alt=media&token=456682a4-ccfb-4c8c-a131-200772127a46",
        Sinopsis: "En un centro de rehabilitación experimental en medio de la selva, Eliú paga una sentencia por asesinato. Cuando su mejor amigo y cómplice es trasladado al mismo lugar, los jóvenes deberán reconstruir su crimen y enfrentar un pasado del que Eliú se quiere alejar. En medio de terapias y trabajos forzados, Eliú se enfrentará a la oscuridad de la naturaleza humana y tratará de escapar de la suya antes de que sea demasiado tarde.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/jauria.png?alt=media&token=456682a4-ccfb-4c8c-a131-200772127a46"
    },
    {
        nombre:"Lio Lio",
        duracion:104,
        genero: "Infantil",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/lio%20lio.jpg?alt=media&token=51efff4f-e726-4548-aa36-a3dfc0393cb6",
        Sinopsis: "La familia Primm se muda a Nueva York, donde Josh, el pequeño de la casa, tiene problemas para adaptarse a la escuela y hacer amigos. Todo cambia cuando Josh conoce a Lilo, un cocodrilo al que le apasiona la música, bañarse y el caviar.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/lio%20lio.jpg?alt=media&token=51efff4f-e726-4548-aa36-a3dfc0393cb6"
    },
    {
        nombre: "Los Reyes",
        duracion:95,
        genero: "Drama",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/los%20reyes%20del%20mundo.jpg?alt=media&token=de36ae17-e096-451a-a5e3-433467fa74fb",
        Sinopsis: "Un día todos los hombres se quedaron dormidos… Y los cercos de la tierra, ardieron” Rá (19), Culebro (16), Sere (14), Winny (12) Nano (13) cinco chicos de la calle de Medellín. Cinco reyes sin reino. En sus manos tienen unas viejas escrituras de una tierra heredada por Rá.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/los%20reyes%20del%20mundo.jpg?alt=media&token=de36ae17-e096-451a-a5e3-433467fa74fb"
    },
    {
        nombre: "Sonrie",
        duracion:95,
        genero: "Drama",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/sonrie.jpg?alt=media&token=1d766115-2b2a-4965-b976-4546e2622038",
        Sinopsis: "Después de ser testigo de un extraño y traumático accidente que involucró a una paciente, la Dr. Rose Cotter (Sosie Bacon) empieza a experimentar sucesos aterradores que no puede explicarse. A medida que el terror comienza a apoderarse de su vida, Rose debe enfrentarse a su pasado para sobrevivir y escapar de su horrible nueva realidad.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/sonrie.jpg?alt=media&token=1d766115-2b2a-4965-b976-4546e2622038"
    },
    {
        nombre: "Black Adam",
        duracion:95,
        genero: "Ficcion",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/Black%20adam.png?alt=media&token=a5f38f8a-b905-4d07-8995-64e4dc9a4554",
        Sinopsis: "De la mano de New Line Cinema, Dwayne Johnson protagoniza la aventura de acción Black Adam. La primera película que explora la historia de este superhéroe de DC llega a la pantalla grande bajo la dirección de Jaume Collet-Serra (Jungle Cruise). ",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/Black%20adam.png?alt=media&token=a5f38f8a-b905-4d07-8995-64e4dc9a4554"
    },
    {
        nombre: "La Roya",
        duracion:95,
        genero: "Drama",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/la%20roya.jpg?alt=media&token=02cb1366-bdc5-4c18-bf38-5ba907e39287",
        Sinopsis: "Jorge es un joven campesino quien vive en lo alto de una montaña. Todos los de su generación han emigrado a la ciudad, pero él se ha quedado para hacerse cargo de la finca cafetera que ha heredado de su padre, mientras cuida de su abuelo y tiene amoríos con su prima Rosa.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/la%20roya.jpg?alt=media&token=02cb1366-bdc5-4c18-bf38-5ba907e39287"
    },
    {
        nombre: "Red",
        duracion:95,
        genero: "Animacion",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/red.png?alt=media&token=9cc7348f-003d-4b1f-9d50-06d0be1f2ef8",
        Sinopsis: "One Piece es la historia de un chico llamado Monkey D. Luffy, quién se inspiró en Shanks, un pirata que le salvó la vida, para convertirse en el Rey de los Piratas. Al comienzo de la serie, veinticuatro años antes de la historia actual, un pirata llamado Gol D.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/red.png?alt=media&token=9cc7348f-003d-4b1f-9d50-06d0be1f2ef8"
    },
    {
        nombre: "Tormenta",
        duracion:95,
        genero: "Drama",
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/la%20gram%20tormenta.jpg?alt=media&token=a0c68fb3-746f-428b-82ac-78a144a7f22e",
        Sinopsis: "En otoño de 1960, trece jóvenes se enrolan en el buque escuela norteamericano Albatross para iniciar una aventura que cambia sus vidas para siempre. Al mando del duro y curtido capitán Sheldon, los chicos son empujados más allá de los límites de la adolescenciamientras exploran los misterios del Caribe.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/la%20gram%20tormenta.jpg?alt=media&token=a0c68fb3-746f-428b-82ac-78a144a7f22e"
    }
]

// let fila=document.getElementById("fila")

// peliculas.forEach(function(pelicula){
//     console.log(pelicula.poster)

//     let foto=document.createElement("img")
//     foto.src=pelicula.poster
//     foto.classList.add("img-fluid","w-100")

//     fila.appendChild(foto)

// })




// creamos una referencia al espacio HTML donde queremos 
// hacer render(pintar etiquetas)
let etiquetaFila = document.getElementById("fila")

// si |ya tengo datos que normalmente llegan al fromt como arreglo
// de objetos debemos recorrer y depurar dicha informacion

peliculas.forEach(function(pelicula){
    //para pintar la informacion de cada pelicula 
    // debemos aplicar un atecnica conocida como traversing

    //traversing es crear etiquetas de HTML de JS

    let columna = document.createElement("div")
    columna.classList.add("col")

    let tarjeta = document.createElement("div")
    tarjeta.classList.add("card", "h-100", "shadow")

    let poster = document.createElement("img")
    poster.classList.add("img-fluid", "w-100")
    poster.src=pelicula.poster

    let nombre = document.createElement("h3")
    nombre.classList.add("text-center", "fw-bold")
    nombre.textContent = pelicula.nombre

    let duracion = document.createElement("h5")
    duracion.classList.add("text-start", "text-center", "highlight")
    duracion.textContent = "Duracion " +pelicula.duracion+ " Min"

    let Sinopsis = document.createElement("p")
    Sinopsis.classList.add("d-none")
    Sinopsis.textContent=pelicula.Sinopsis

    let banner = document.createElement("banner")
    banner.classList.add("img-fluid", "w-100")
    banner.src=pelicula.banner

    let genero = document.createElement("genero")
    genero.classList.add("text-stark","text-center", "fw-bold")
    genero.textContent = pelicula.genero

    //padre e hijos
    etiquetaFila.appendChild(columna)
    columna.appendChild(tarjeta)
    tarjeta.appendChild(poster)
    tarjeta.appendChild(nombre)
    tarjeta.appendChild(duracion)
    tarjeta.appendChild(Sinopsis)
    tarjeta.appendChild(banner)
    tarjeta.appendChild(genero)
})

//Escuchando el evento del clic en alguna pelicula de la cartelera:
let peliculaSelecionada={}

etiquetaFila.addEventListener("click",function(evento){

    if(evento.target.classList.contains("img-fluid")){
        // alert("estas seleccionando una pelicula")

       peliculaSelecionada.imagen=evento.target.parentElement.querySelector('img').src
       peliculaSelecionada.titulo=evento.target.parentElement.querySelector('h3').textContent
       peliculaSelecionada.duracion=evento.target.parentElement.querySelector('h5').textContent
       peliculaSelecionada.sinopsis=evento.target.parentElement.querySelector("p").textContent
       peliculaSelecionada.banner=evento.target.parentElement.querySelector("banner").src
       peliculaSelecionada.genero=evento.target.parentElement.querySelector("genero").textContent

       //Enviando nuestros datos en la pelicula selecionada a la memoria
       localStorage.setItem("pelicula",JSON.stringify(peliculaSelecionada))

       window.location.href="./src/views/verInfopeliculas.html"

    }
})  

let proximas=[
    {
        nombreP: "Amsterdam",
        duracionP:105,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/Amsterdan.jpg?alt=media&token=522bfdf6-b690-46f2-90ec-866d98012aad",
        sinopsisP:"Basada en hechos que se mezclan con ficción, la película está protagonizada por Christian Bale, ganador del Premio de la Academia®, Margot Robbie, nominada en dos ocasiones al Oscar®, John David Washington, Alessandro Nivola, Andrea Riseborough, Anya Taylor-Joy, Chris Rock, Matthias Schoenaerts, Michael Shannon, Mike Myers, Taylor Swift, Timothy Olyphant y Zoe Saldana, junto con el ganador del Oscar Rami Malek y Robert De Niro, ganador de dos Premios de la Academia.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/Amsterdan.jpg?alt=media&token=522bfdf6-b690-46f2-90ec-866d98012aad"

    },

    {
        nombreP:"El Llamado",
        duracionP:145,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/el%20llamado.png?alt=media&token=734a7090-adee-4f15-a0b9-9a33dff0d608",
        sinopsisP:"Jacob Chandler es un hombre corriente con un don extraordinario y junto a su sobrino Liam han forjado una carrera exorcizando demonios de los cuerpos de sus clientes. Pero las cosas se están tornando cada día más oscuras, los días pasan y aumentan el número de poseídos por los espíritus del mal.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/el%20llamado.png?alt=media&token=734a7090-adee-4f15-a0b9-9a33dff0d608"
    },

    {
        nombreP:"Virus",
        duracionP:180,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/virus.jpg?alt=media&token=532b7e54-623f-4b5c-9e9b-178fcba99215",
        sinopsisP:"El caos se produce cuando un virus letal que se propaga por el aire infecta a la población de una ciudad de Corea del Sur a menos de 20 kilómetros de Seúl. Los científicos y especialistas deben impedir que se propague.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/virus.jpg?alt=media&token=532b7e54-623f-4b5c-9e9b-178fcba99215"
    },

    {
        nombreP:"Cenicienta",
        duracionP:100,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/cenicienta.png?alt=media&token=5b2127d0-440a-4e68-a4d8-c48698e4467e",
        sinopsisP:"La idílica vida de la preciosa Ella se viene abajo cuando, tras la muerte de su madre, su padre se vuelve a casar. La joven quiere apoyar a su padre y acoge con cariño en la casa familiar a su madrastra y a sus hijas, Anastasia y Drisella. Sin embargo, cuando el padre de Ella muere inesperadamente, la joven se encuentra a merced de una nueva familia celosa y cruel",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/cenicienta.png?alt=media&token=5b2127d0-440a-4e68-a4d8-c48698e4467e"
    },

    {
        nombreP:"El salvador",
        duracionP:95,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/El%20salvador.jpg?alt=media&token=923f0f88-2326-4851-9996-4a23161e9ec8",
        sinopsisP:"Narración de la tragedia de las guerras civiles de Centroamérica en los ochenta. La película cuenta la experiencia de Richard Boyle, reportero norteamericano, durante su estancia en El Salvador.",
        banner: "https://firebasestorage.googleapis.com/v0/b/cinemaleiderlucas.appspot.com/o/El%20salvador.jpg?alt=media&token=923f0f88-2326-4851-9996-4a23161e9ec8"
    }
]

let etiquetaFila2 = document.getElementById("fila2")

proximas.forEach(function(proxima){

    let columnaP = document.createElement("div")
    columnaP.classList.add("col")

    let tarjetaP = document.createElement("div")
    tarjetaP.classList.add("card", "h-100", "shadow")


    let posterP = document.createElement("img")
    posterP.classList.add("img-fluid", "w-100")
    posterP.src=proxima.posterP

    let nombreP = document.createElement("h3")
    nombreP.classList.add("text-center", "fw-bold")
    nombreP.textContent = proxima.nombreP

    let duracionP = document.createElement("h5")
    duracionP.classList.add("text-start", "text-center", "highlight")
    duracionP.textContent = "Duracion " +proxima.duracionP+ " Min"

    let sinopsisP = document.createElement("p")
    sinopsisP.classList.add("d-none")
    sinopsisP.textContent=proxima.sinopsisP

    let banner = document.createElement("banner")
    banner.classList.add("img-fluid", "w-100")
    banner.src=proxima.banner

    etiquetaFila2.appendChild(columnaP)
    columnaP.appendChild(tarjetaP)   
    tarjetaP.appendChild(posterP)
    tarjetaP.appendChild(nombreP)
    tarjetaP.appendChild(duracionP)
    tarjetaP.appendChild(sinopsisP)
    tarjetaP.appendChild(banner)

})

let proximaSelecionada={}
etiquetaFila2.addEventListener("click",function(evento){
    if(evento.target.classList.contains("img-fluid")){
        // alert("estas seleccionando una pelicula")

       
       proximaSelecionada.imagen=evento.target.parentElement.querySelector('img').src
       proximaSelecionada.titulo=evento.target.parentElement.querySelector('h3').textContent
       proximaSelecionada.duracion=evento.target.parentElement.querySelector('h5').textContent
       proximaSelecionada.sinopsis=evento.target.parentElement.querySelector("p").textContent
       proximaSelecionada.banner=evento.target.parentElement.querySelector("banner").src

       //Enviando nuestros datos en la pelicula selecionada a la memoria
       localStorage.setItem("pelicula",JSON.stringify(proximaSelecionada))
       

       window.location.href="./src/views/verInfopeliculas.html"
      

    }
})